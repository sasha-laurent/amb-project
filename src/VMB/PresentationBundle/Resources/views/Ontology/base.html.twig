{% extends '::layout.html.twig' %}

{% block script %}
	{{ parent() }}
	<script src="{{ asset('bundles/telecomvmb/js/handlebars.js') }}"></script>
	<script src="{{ asset('bundles/telecomvmb/js/jquery.taxonomyBrowser.js') }}"></script>	
	<script src="{{ asset('bundles/telecomvmb/js/jquery.taxonomyBrowser.keys.js') }}"></script>
	<script src="{{ asset('bundles/telecomvmb/js/tag-it.js') }}"></script>

	<script>
		$(function(){
			$('.date-options').hide(); // initial

			 $( document ).tooltip({
				position: {
				
				using: function( position, feedback ) {
					$( this ).css( position );
					$( "<div>" )
					.addClass( "arrow" )
					.addClass( feedback.vertical )
					.addClass( feedback.horizontal )
					.appendTo( this );
				}
				}
			});
			 /*
			 $( "#tabs" ).tabs({
				event: "mousedown"
			});
			 
			 * temp, date is treated as value attribute
			 *
			 $('#type').change(function(){ //trigger change
			    if($('#type').val() == 'date' || $('#type').val() == 'dateInterval'){
			        $('.date-options').show();
			        if($('#type').val() == 'dateInterval') {
			        	$('.date-options-end').show();
			        }
			        else {
			        	$('.date-options-end').hide();
			        }
			    } else {
			        $('.date-options').hide();
				}
			});
			*/
			 {% block customScript %}{% endblock %}
		});
		
	</script>
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" type="text/css" href="{{asset('bundles/telecomvmb/css/jquery.tagit.css')}}">
	<link rel="stylesheet" type="text/css" href="{{ asset('bundles/telecomvmb/css/ontology-main.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ asset('bundles/telecomvmb/css/ontology-extra.css') }}">
{% endblock %}


{% block body %}
	<div class = "button-menu">
    	{% block buttons %}{% endblock %}
	</div>
    <div style="clear:both;"></div>

    <!-- Miller container -->
	<div class="miller-container">				
		
	</div>
	<!-- End of Miller container -->
	{% block scriptMiller %}
	{% raw %}
	<!-- Miller taxonomy -->
	<script type="text/x-handlebars-template" id="taxonomy_terms">
		
		<div class="miller--terms--container">
			
			{{#if parent}}
				<div class="miller--terms--selection">					
					{{#each parent}} {{#if @index}} &raquo; {{/if}} <a href="#" class="crumb" data-depth="{{depth}}">{{name}}</a>{{/each}}
				</div>
			{{/if}}

  		<ul class="terms">
  			{{#each taxonomies}}
  				<li class="term {{#if childrenCount}}has-children{{/if}} draggable droppable" id = "data{{id}}" data-id="{{id}}">
  					<a href="#">
  					  <span class="title">{{label}}</span> 
  					  <em class="icon icon-arrow"></em> 			
  					</a>
  				</li>
  			{{/each}}
  		</ul>
  		
		</div>	

	</script>
	<!-- end of Miller taxonomy -->	
	{% endraw %}
	{% endblock %}

	{% block uiDialogs %}{% endblock %}

{% endblock %}














